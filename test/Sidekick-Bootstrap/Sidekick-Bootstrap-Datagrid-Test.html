<!DOCTYPE html>
<html>
  <head>
    <title>Datagrid binding test</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link href="./../../lib/bootstrap/css/bootstrap.min.css" rel="stylesheet" media="screen">
    
    <script src="./../../lib/require.js"></script>
	<script>
			requirejs.config({
			    baseUrl:	"../../",
			    paths: {
			        "jquery":				"lib/jquery-1.9.1",
			        "ko":					"lib/knockout-2.2.1.debug",
			        "datagrid":				"src/Sidekick-Bootstrap/Sidekick-Bootstrap-Datagrid",
			        "pagination": 			"src/Sidekick-Bootstrap/Sidekick-Bootstrap-Pagination",
				    "orderController":		"src/Sidekick-Bootstrap/Sidekick-Bootstrap-OrderController"  
			    }
			});
			require(["jquery", "ko", "datagrid","pagination","orderController"], function($, ko, datagrid) {
			   $(document).ready (function () {
					ko.applyBindings ({
						datagridVM: {
							
							
							dataSource:{
								read:function(itemPerPage,actualPage,callback,field,ascDesc){
									var items = [
								        {name: "awrgerg",age:26,course:"sdsdvxcvff"},
								        {name: "beeee",age:24,course:"sewt243t2df"},
								        {name: "btze",age:24,course:"srerr2df"},
								        {name: "betz56eee",age:24,course:"eeeeeeeeeee"},
								        {name: "beeeeze",age:24,course:"qqqqqqqq43t2df"},
								        {name: "345345e",age:24,course:"qwefrgwrdf"},
								        {name: "ert3t3ee",age:24,course:"sgrgrgrg43t2df"},
								        {name: "ccccerrefijijefe",age:22,course:"sdsdfsdff"}];
									
										var retItem=[];
										for (var i=0; i<itemPerPage; i=i+1){
											if (actualPage*itemPerPage+i<items.length){
												retItem.push(items[actualPage*itemPerPage+i]);	
											}
										
										}
										
										
										callback(retItem);
										alert(ascDesc);
									
								}
								
							},
							pagination:{
								actualPage: ko.observable(0),
								elementNumber: 8,
								elementPerPage: 2,
								callback: function(i){
									
								},
								size: "small",
								align: "center"
								
							}
					   }
					});
				});
			});
	</script>
  </head>
  <body>
    <h1>Datagrid binding test</h1>
    
    <table data-bind="datagrid: datagridVM">
    	<thead><tr><th data-bind="orderController: {field: 'name'}">Full Name</th></tr>
    	<tr><th>Course</th><th>Age</th></thead>
    	<tbody>
    		<tr>
    			<td data-bind="text: name"></td>
    
   
    		</tr>
    		<tr>
    			<td data-bind="text: course"></td>
    			<td data-bind="text: age"></td>
    		</tr>
    	</tbody>
    	
    </table>
  </body>
</html>